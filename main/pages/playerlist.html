<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Tracker Site</title>
</head>
<body>


    <h1>Player List</h1>

    <!-- player list -->
    <div id="playerlist">

    </div>
</body>



<script>

    //fetch data from sql using custom api
    async function loadPlayerlist() {
        try {
            const data = await fetch("/api/getplayers.php");
            const players = await data.json();
            const container = document.getElementById("playerlist");

            players.forEach(player => {

                
                
                const playerDiv = document.createElement("div");

                playerDiv.innerHTML = `
                <a href="player.html?id=${player.player_id}">${player.player_name}</a>`;

                    container.appendChild(playerDiv);
            })


        } catch (error) {
            console.error("error: " + error)
        }
        
    }

    loadPlayerlist();


</script>
</html>